// Brand Button System for 360 Gymnastics
// Centralized button styles ensuring consistency across the application

// Brand Colors
$brand-orange: #fc7900;
$brand-orange-hover: #e66a00;
$brand-blue: #0226ff;
$brand-blue-hover: #0119b3;
$brand-blue-light: #3b82f6;
$brand-blue-light-hover: #2563eb;
$brand-cyan: #06b6d4;
$brand-cyan-hover: #0891b2;
$brand-white: #ffffff;
$brand-gray: #6b7280;
$brand-gray-hover: #4b5563;

// Base button styles
%btn-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-weight: 600;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  outline: none;
  white-space: nowrap;
  
  // Focus ring for accessibility
  &:focus-visible {
    outline: 2px solid;
    outline-offset: 2px;
  }
  
  // Disabled state
  &:disabled,
  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  // Loading state
  &.loading {
    cursor: wait;
    
    .btn-text {
      opacity: 0;
    }
    
    .btn-spinner {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
  
  // Ripple effect
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: width 0.6s, height 0.6s;
    transform: translate(-50%, -50%);
    z-index: 0;
  }
  
  &:active::before {
    width: 300px;
    height: 300px;
  }
  
  // Ensure content is above ripple
  > * {
    position: relative;
    z-index: 1;
  }
}

// Size variants
%btn-xs {
  padding: 0.375rem 0.75rem;
  font-size: 0.75rem;
  line-height: 1rem;
}

%btn-sm {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
}

%btn-md {
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  line-height: 1.5rem;
}

%btn-lg {
  padding: 1rem 2rem;
  font-size: 1.125rem;
  line-height: 1.75rem;
}

%btn-xl {
  padding: 1.25rem 2.5rem;
  font-size: 1.25rem;
  line-height: 1.75rem;
}

// Primary button (solid orange for optimal conversion)
.btn-primary {
  @extend %btn-base, %btn-md;
  background: $brand-orange !important;
  background-image: none !important;
  color: $brand-white;
  font-weight: 700;
  letter-spacing: 0.025em;
  box-shadow: 
    0 4px 15px rgba(252, 121, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  
  &:hover:not(:disabled):not(.disabled) {
    background: $brand-orange-hover !important;
    background-image: none !important;
    box-shadow: 
      0 6px 20px rgba(252, 121, 0, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: translateY(-1px) scale(1.01);
  }
  
  &:active {
    transform: translateY(0) scale(0.99);
    box-shadow: 0 2px 10px rgba(252, 121, 0, 0.4);
  }
  
  &:focus-visible {
    outline: 3px solid rgba(252, 121, 0, 0.5);
    outline-offset: 2px;
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { 
    @extend %btn-lg; 
    font-size: 1.125rem;
    padding: 1rem 2rem;
  }
  &.btn-xl { @extend %btn-xl; }
}

// Primary button variant for trust-focused actions (blue)
.btn-primary-blue {
  @extend %btn-base, %btn-md;
  background: $brand-blue;
  color: $brand-white;
  font-weight: 700;
  letter-spacing: 0.025em;
  box-shadow: 
    0 4px 15px rgba(2, 38, 255, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  
  &:hover:not(:disabled):not(.disabled) {
    background: $brand-blue-hover;
    box-shadow: 
      0 6px 20px rgba(2, 38, 255, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: translateY(-1px) scale(1.01);
  }
  
  &:active {
    transform: translateY(0) scale(0.99);
    box-shadow: 0 2px 10px rgba(2, 38, 255, 0.4);
  }
  
  &:focus-visible {
    outline: 3px solid rgba(2, 38, 255, 0.5);
    outline-offset: 2px;
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { 
    @extend %btn-lg; 
    font-size: 1.125rem;
    padding: 1rem 2rem;
  }
  &.btn-xl { @extend %btn-xl; }
}

// Light Blue button variant (blue-500 from featured classes)
.btn-blue-light {
  @extend %btn-base, %btn-md;
  background: $brand-blue-light;
  color: $brand-white;
  font-weight: 700;
  letter-spacing: 0.025em;
  box-shadow: 
    0 4px 15px rgba(59, 130, 246, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  
  &:hover:not(:disabled):not(.disabled) {
    background: $brand-blue-light-hover;
    box-shadow: 
      0 6px 20px rgba(59, 130, 246, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: translateY(-1px) scale(1.01);
  }
  
  &:active {
    transform: translateY(0) scale(0.99);
    box-shadow: 0 2px 10px rgba(59, 130, 246, 0.4);
  }
  
  &:focus-visible {
    outline: 3px solid rgba(59, 130, 246, 0.5);
    outline-offset: 2px;
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { 
    @extend %btn-lg; 
    font-size: 1.125rem;
    padding: 1rem 2rem;
  }
  &.btn-xl { @extend %btn-xl; }
}

// Cyan button variant (cyan-500 from featured classes)
.btn-cyan {
  @extend %btn-base, %btn-md;
  background: $brand-cyan;
  color: $brand-white;
  font-weight: 700;
  letter-spacing: 0.025em;
  box-shadow: 
    0 4px 15px rgba(6, 182, 212, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  
  &:hover:not(:disabled):not(.disabled) {
    background: $brand-cyan-hover;
    box-shadow: 
      0 6px 20px rgba(6, 182, 212, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: translateY(-1px) scale(1.01);
  }
  
  &:active {
    transform: translateY(0) scale(0.99);
    box-shadow: 0 2px 10px rgba(6, 182, 212, 0.4);
  }
  
  &:focus-visible {
    outline: 3px solid rgba(6, 182, 212, 0.5);
    outline-offset: 2px;
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { 
    @extend %btn-lg; 
    font-size: 1.125rem;
    padding: 1rem 2rem;
  }
  &.btn-xl { @extend %btn-xl; }
}

// Special enrollment CTA button
.btn-enroll {
  @extend %btn-base;
  background: $brand-orange;
  color: $brand-white;
  padding: 1rem 2rem;
  font-size: 1.125rem;
  font-weight: 700;
  letter-spacing: 0.025em;
  border-radius: 0.75rem;
  box-shadow: 
    0 4px 15px rgba(252, 121, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  
  &:hover:not(:disabled):not(.disabled) {
    background: $brand-orange-hover;
    box-shadow: 
      0 6px 20px rgba(252, 121, 0, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
  }
  
  &:active {
    transform: translateY(0) scale(0.99);
    box-shadow: 0 2px 10px rgba(252, 121, 0, 0.4);
  }
  
  &:focus-visible {
    outline: 3px solid rgba(252, 121, 0, 0.5);
    outline-offset: 2px;
  }
}

// Secondary button (outline style)
.btn-secondary {
  @extend %btn-base, %btn-md;
  background: rgba(255, 255, 255, 0.1);
  color: $brand-white;
  border: 2px solid $brand-white;
  
  &:hover:not(:disabled):not(.disabled) {
    background: rgba(252, 121, 0, 0.2);
    border-color: $brand-orange;
    transform: translateY(-2px) scale(1.02);
  }
  
  &:focus-visible {
    outline-color: $brand-white;
  }
  
  // Dark background variant
  &.btn-secondary-dark {
    background: $brand-white;
    color: $brand-blue;
    border-color: $brand-blue;
    
    &:hover:not(:disabled):not(.disabled) {
      background: rgba(2, 38, 255, 0.1);
      color: $brand-blue-hover;
    }
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { @extend %btn-lg; }
  &.btn-xl { @extend %btn-xl; }
}

// Tertiary button (text only)
.btn-tertiary {
  @extend %btn-base, %btn-md;
  background: transparent;
  color: $brand-blue;
  
  &:hover:not(:disabled):not(.disabled) {
    background: rgba(2, 38, 255, 0.1);
    transform: translateY(-1px);
  }
  
  &:focus-visible {
    outline-color: $brand-blue;
  }
  
  // Light variant for dark backgrounds
  &.btn-tertiary-light {
    color: $brand-white;
    
    &:hover:not(:disabled):not(.disabled) {
      background: rgba(255, 255, 255, 0.1);
    }
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { @extend %btn-lg; }
  &.btn-xl { @extend %btn-xl; }
}

// Success button
.btn-success {
  @extend %btn-base, %btn-md;
  background: #10b981;
  color: $brand-white;
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
  
  &:hover:not(:disabled):not(.disabled) {
    background: #059669;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    transform: translateY(-2px) scale(1.02);
  }
  
  &:focus-visible {
    outline-color: #10b981;
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { @extend %btn-lg; }
  &.btn-xl { @extend %btn-xl; }
}

// Danger button
.btn-danger {
  @extend %btn-base, %btn-md;
  background: #ef4444;
  color: $brand-white;
  box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
  
  &:hover:not(:disabled):not(.disabled) {
    background: #dc2626;
    box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
    transform: translateY(-2px) scale(1.02);
  }
  
  &:focus-visible {
    outline-color: #ef4444;
  }
  
  // Size variants
  &.btn-xs { @extend %btn-xs; }
  &.btn-sm { @extend %btn-sm; }
  &.btn-lg { @extend %btn-lg; }
  &.btn-xl { @extend %btn-xl; }
}

// Icon button (circular)
.btn-icon {
  @extend %btn-base;
  padding: 0.75rem;
  border-radius: 50%;
  background: linear-gradient(135deg, $brand-orange 0%, $brand-blue 100%);
  color: $brand-white;
  box-shadow: 0 4px 15px rgba(252, 121, 0, 0.3);
  
  &:hover:not(:disabled):not(.disabled) {
    background: linear-gradient(135deg, $brand-orange-hover 0%, $brand-blue-hover 100%);
    box-shadow: 0 6px 20px rgba(252, 121, 0, 0.4);
    transform: translateY(-2px) scale(1.1);
  }
  
  &:focus-visible {
    outline-color: $brand-orange;
  }
  
  // Size variants
  &.btn-icon-sm {
    padding: 0.5rem;
  }
  
  &.btn-icon-lg {
    padding: 1rem;
  }
  
  &.btn-icon-xl {
    padding: 1.25rem;
  }
}

// Play button (special variant for hero section)
.btn-play {
  @extend %btn-base;
  padding: 1rem;
  border-radius: 50%;
  background: $brand-orange;
  color: $brand-white;
  box-shadow: 0 4px 15px rgba(252, 121, 0, 0.4);
  
  &:hover:not(:disabled):not(.disabled) {
    background: $brand-orange-hover;
    box-shadow: 0 6px 20px rgba(252, 121, 0, 0.5);
    transform: translateY(-2px) scale(1.1);
  }
  
  &:focus-visible {
    outline-color: $brand-orange;
  }
  
  // Pulse animation for attention
  &.btn-play-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

// Loading spinner
.btn-spinner {
  width: 1rem;
  height: 1rem;
  border: 2px solid transparent;
  border-top: 2px solid currentColor;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

// Button groups
.btn-group {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  
  &.btn-group-attached {
    gap: 0;
    
    .btn-primary,
    .btn-secondary,
    .btn-tertiary,
    .btn-success,
    .btn-danger {
      border-radius: 0;
      
      &:first-child {
        border-radius: 0.5rem 0 0 0.5rem;
      }
      
      &:last-child {
        border-radius: 0 0.5rem 0.5rem 0;
      }
      
      &:only-child {
        border-radius: 0.5rem;
      }
    }
  }
  
  // Responsive stacking
  @media (max-width: 640px) {
    &.btn-group-responsive {
      flex-direction: column;
      width: 100%;
      
      .btn-primary,
      .btn-secondary,
      .btn-tertiary,
      .btn-success,
      .btn-danger {
        width: 100%;
        border-radius: 0.5rem;
      }
    }
  }
}

// Floating action button
.btn-fab {
  @extend %btn-base;
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  padding: 1rem;
  border-radius: 50%;
  background: linear-gradient(135deg, $brand-orange 0%, $brand-blue 100%);
  color: $brand-white;
  box-shadow: 0 8px 25px rgba(252, 121, 0, 0.3);
  z-index: 1000;
  
  &:hover:not(:disabled):not(.disabled) {
    background: linear-gradient(135deg, $brand-orange-hover 0%, $brand-blue-hover 100%);
    box-shadow: 0 12px 35px rgba(252, 121, 0, 0.4);
    transform: translateY(-3px) scale(1.1);
  }
  
  &:focus-visible {
    outline-color: $brand-orange;
  }
}

// Animations
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

// Responsive adjustments
@media (max-width: 640px) {
  .btn-primary,
  .btn-primary-blue,
  .btn-blue-light,
  .btn-cyan,
  .btn-secondary,
  .btn-tertiary,
  .btn-success,
  .btn-danger {
    // Optimize for mobile touch targets (minimum 48px height)
    min-height: 48px;
    font-size: 1rem;
    
    &.btn-md {
      padding: 0.875rem 1.5rem;
    }
    
    &.btn-lg {
      padding: 1rem 1.75rem;
      font-size: 1rem; // Slightly smaller on mobile
    }
    
    &.btn-xl {
      padding: 1rem 2rem;
      font-size: 1.125rem;
    }
  }
  
  .btn-enroll {
    min-height: 48px;
    padding: 1rem 1.75rem;
    font-size: 1rem;
  }
  
  .btn-fab {
    bottom: 1rem;
    right: 1rem;
    padding: 0.875rem;
  }
}

// Reduced motion accessibility
@media (prefers-reduced-motion: reduce) {
  .btn-primary,
  .btn-primary-blue,
  .btn-blue-light,
  .btn-cyan,
  .btn-secondary,
  .btn-tertiary,
  .btn-success,
  .btn-danger,
  .btn-icon,
  .btn-play,
  .btn-fab {
    transition: none;
    
    &:hover {
      transform: none;
    }
    
    &::before {
      transition: none;
    }
    
    &.btn-play-pulse {
      animation: none;
    }
  }
  
  .btn-spinner {
    animation: none;
  }
}